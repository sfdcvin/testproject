public class EmailSendtesting {
    public static string toMail ='14er.vineet@gmail.com';
    public static string ccMail { get; set;}
 public static  string repMail { get; set;}
    
    public static void sendMail(){
        Messaging.SingleEmailMessage email = new Messaging.SingleEmailMessage();
        string[] to = new string[] {toMail};
      string[] cc = new string[] {ccMail};
             EmailTemplate et = [SELECT Id,Subject, Body,HtmlValue FROM EmailTemplate WHERE Name ='testemail' limit 1];

        email.setToAddresses(to);
        if(ccMail!=null && ccMail != '')
            email.setCcAddresses(cc);
        if(repmail!=null && repmail!= '')
            email.setInReplyTo(repMail);
        
        email.setSubject('Test Mail');
        
       // email.setHtmlBody('Hello, <br/><br/>This is the test mail that you generated. <br/>The Email Id for which this mail was generated by '+toMail+'<br/><br/>Regards<br/> Developer');
      // email.setTemplateId(et.id);
      String htmlbody1= et.HtmlValue;

        System.debug('before :'+htmlbody1);
     htmlbody1=   htmlbody1.replace('{ToName}','Vineet');
     htmlbody1=   htmlbody1.replace('{todaydate}',String.valueOf(System.today()));
     htmlbody1=   htmlbody1.replace('{Sendername}','Vin K');
        System.debug('after :'+htmlbody1);
        email.setHTMLBODY(htmlbody1);
        try{
            Messaging.sendEmail(new Messaging.SingleEmailMessage[] { email });
        }catch(exception e){
           // apexpages.addmessage(new apexpages.message(apexpages.severity.error,e.getMessage()));
        }
        
        toMail = '';
        ccMail = '';
        repMail = '';
    }
}